# REST

# とは

「REST」→REpresentational State Transfer→「分散型システムにおける設計原則群」

RESTfulとは：RESTで求められる原則に従っていること

## ルール

- nullスタート
- クライアント/サーバー
- ステートレス
- キャッシュ制御
- 統一インターフェース
- 階層化システム
- コードオンデマンド

## 階層化システム

多層アーキテクチャ構成

Web-AP-DB

メリット：各システムの役割を独立することで進化と再利用ができる

デメリット：ユーザー視点では速度の低下

## コードオンデマンド

クライアントコードをダウンロードして実行できる

→リリース後更新などができる。

メリット：リリース済みのクライアントに対して機能追加ができる。サーバー負荷が下がる。
デメリット：評価環境が複雑になる(複数のブラウザ等)

## 統一インターフェース

リソースの識別：名前のつけられるあらゆる物。(URIを用いて)
表現を用いたリソース操作：暗いイアンとへ返されるレスポンスやサーバーへPOSTするデータ。
自己記述メッセージ：メッセージ内容がなんであるかヘッダーに記述されていること。
アプリケーション状態エンジンとしてのハイパーメディア(HATEOAS)：最近では見かけない。

メリット：システムアーキテクチャ全体が簡素化されてわかりやすくなる。提供するサービスに集中でき、独自の進化ができる。異なるブラウザでも同じ様な画面を表示できる。
デメリット：標準化によって効率が犠牲になる

## ステートレス

- ステートフル：前の状態を保存して次の会話が成り立つ
- ステートレス：前の状態を保存せず単独で成り立つ

サーバーはリクエストだけでコンテキストを理解できる。

サーバーセッションは用いない。

メリット：単一のリクエスト以外見る必要がないので監視が容易。障害発生した場合の回復が容易、スケールが用意
デメリット：単一のリクエストで完結させる為、リクエストデータに重複がある。アプリを複数バージョン同時提供し、状態をクライアントに置いておくとアプリ制御が複雑になる。

## キャッシュ制御

クライアントはレスポンスをキャッシュできる。

メリット：ユーザー体験の向上、リソース効率の向上、拡張性の向上
デメリット：古いデータを戻してしまうとシステムに対する信頼性の低下につながる

# REST API設計レベル

- 0：HTTPを使っている→
- 1：リソースの概念を導入
- 2：HTTPの動詞を導入
- 3：HATEOASの概念の導入
